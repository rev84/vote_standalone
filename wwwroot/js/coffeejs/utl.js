// Generated by CoffeeScript 1.12.7
window.Utl = (function() {
  function Utl() {}

  Utl.uuid = function() {
    var i, j, random, uuid;
    uuid = '';
    for (i = j = 0; j < 32; i = ++j) {
      random = Math.random() * 16 | 0;
      if (i === 8 || i === 12 || i === 16 || i === 20) {
        uuid += '-';
      }
      uuid += (i === 12 ? 4 : (i === 16 ? random & 3 | 8 : random)).toString(16);
    }
    return uuid;
  };

  Utl.request = function(endpoint, params) {
    var form, func, postdata;
    postdata = {};
    func = function(value, relay) {
      if (relay == null) {
        relay = [];
      }
      return $.each(value, function(k, v) {
        var relayTemp;
        relayTemp = relay.concat(k);
        if ($.isArray(v) || $.isPlainObject(v)) {
          return func(v, relayTemp);
        } else if (relayTemp.length === 1) {
          return postdata[k] = v;
        } else {
          return postdata[relayTemp[0] + '[' + relayTemp.slice(1).join('][') + ']'] = v;
        }
      });
    };
    func(params);
    form = $('<form>').attr({
      action: endpoint,
      method: 'post'
    });
    $.each(postdata, function(k, v) {
      return form.append($('<input>').attr({
        type: 'hidden',
        name: k,
        value: v
      }));
    });
    form.appendTo($('body'));
    return form.submit();
  };

  return Utl;

})();
