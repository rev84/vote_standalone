// Generated by CoffeeScript 1.12.7
var onFailure, onSuccess, submit;

$().ready(function() {
  return $('#submit').on('click', submit);
});

submit = function() {
  var params;
  $('#submit').prop('disabled', true);
  params = {
    Title: $('#Title').val() === '' ? null : $('#Title').val(),
    Artist: $('#Artist').val() === '' ? null : $('#Artist').val(),
    Comment: $('#Comment').val() === '' ? null : $('#Comment').val(),
    Url: $('#Url').val() === '' ? null : $('#Url').val()
  };
  return Utl.request('subjects/create', params, onSuccess, onFailure);
};

onSuccess = function(res) {
  window.alert('登録に成功しました。');
  return location.reload();
};

onFailure = function(res) {
  window.alert('登録に失敗しました。');
  return $('#submit').prop('disabled', false);
};
